{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>NY Map</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
</head>

<body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
    var map = L.map('map').setView([40.7831, -73.9712], 12);

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
        maxZoom: 22
    }).addTo(map);

    var data = {{ data|safe }};



    L.geoJSON(data, {
		filter: function(feature, layer) {
			return feature.properties.borough == "Manhattan";
		},
        style: function(feature) {
            var locationId = feature.properties.locationid;
            var choice = getColor(locationId);

			return {
                fillColor: choice,
                weight: 2,
                opacity: 1,
                color: 'white',
                dashArray: 3,
                fillOpacity: 0.7
            }
        }
    }).addTo(map);

    function getColor(locationId) {
        var colors = ['#fee5d9', '#fcbba1', '#fc9272', '#fb6a4a', '#de2d26', '#a50f15'];
        var index = (locationId - 1) % colors.length;
        var color = colors[index];
        return color;
    }
</script>

</body>
</html>


